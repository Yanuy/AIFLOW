# ğŸš€ AI å·¥ä½œæµç¼–æ’å¹³å°


**å¯å‰ç«¯ç‹¬ç«‹è¿è¡Œã€å¯è§†åŒ–ã€å¯æ‹–æ‹½çš„ AI å¤šæ¨¡æ€å·¥ä½œæµç¼–æ’å¹³å°**

---

## ğŸ“– ç®€ä»‹

AI å·¥ä½œæµç¼–æ’å¹³å°æ˜¯ä¸€ä¸ªç±»ä¼¼ n8n çš„è½»é‡åŒ–å¯è§†åŒ–å·¥ä½œæµå·¥å…·ï¼Œå®Œå…¨è¿è¡Œåœ¨æµè§ˆå™¨ç«¯ï¼Œæ— éœ€åç«¯æœåŠ¡å™¨ã€‚æ”¯æŒ AI å¯¹è¯ã€æ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆã€æ–‡ä»¶å¤„ç†ã€æ•°æ®åˆ†æç­‰å¤šç§èŠ‚ç‚¹ç±»å‹ï¼Œé€šè¿‡æ‹–æ‹½è¿çº¿å³å¯æ„å»ºå¤æ‚çš„è‡ªåŠ¨åŒ–å·¥ä½œæµã€‚

### ğŸ¯ é€‚ç”¨åœºæ™¯

- ğŸ¤– **AI åº”ç”¨å¼€å‘** - å¿«é€Ÿæ„å»º AI å¯¹è¯ã€æ–‡æœ¬ç”Ÿæˆã€å›¾åƒå¤„ç†æµç¨‹
- ğŸ“Š **æ•°æ®å¤„ç†** - æ•°æ®æå–ã€è½¬æ¢ã€åˆ†æçš„å¯è§†åŒ–ç¼–æ’
- ğŸ”„ **è‡ªåŠ¨åŒ–ä»»åŠ¡** - å®šæ—¶è§¦å‘ã€æ¡ä»¶åˆ†æ”¯ã€å¾ªç¯å¤„ç†
- ğŸ“ **æ–‡æ¡£å¤„ç†** - æ–‡æœ¬æ‘˜è¦ã€å†…å®¹ç”Ÿæˆã€æ ¼å¼è½¬æ¢
- ğŸµ **å¤šåª’ä½“å¤„ç†** - éŸ³é¢‘è½¬å½•ã€è¯­éŸ³åˆæˆã€åª’ä½“å½•åˆ¶

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### èŠ‚ç‚¹ç±»å‹

| ç±»åˆ« | èŠ‚ç‚¹ | æè¿° |
|------|------|------|
| **AI èŠ‚ç‚¹** | AI å¯¹è¯ã€æ–‡æœ¬ç”Ÿæˆã€æ–‡æœ¬åˆ†æã€å›¾åƒç”Ÿæˆã€å›¾åƒç¼–è¾‘ã€éŸ³é¢‘è½¬å½•ã€æ–‡æœ¬è½¬è¯­éŸ³ | æ¥å…¥ OpenAI å…¼å®¹ API |
| **æ–‡ä»¶èŠ‚ç‚¹** | æ–‡ä»¶è¾“å…¥ã€æ–‡ä»¶è¾“å‡ºã€æ–‡æœ¬è¾“å…¥ã€å¯é€‰è¾“å…¥ | æ–‡ä»¶è¯»å†™ä¸ç”¨æˆ·è¾“å…¥ |
| **æ§åˆ¶èŠ‚ç‚¹** | æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ã€å»¶æ—¶ | æµç¨‹æ§åˆ¶é€»è¾‘ |
| **è§¦å‘å™¨** | å®šæ—¶è§¦å‘ã€æ¶ˆæ¯è§¦å‘ã€é˜ˆå€¼è§¦å‘ã€äº‹ä»¶è§¦å‘ | å·¥ä½œæµè§¦å‘æœºåˆ¶ |
| **å·¥å…·èŠ‚ç‚¹** | HTTP è¯·æ±‚ã€JSON è§£æã€æ–‡æœ¬è½¬æ¢ã€æ–‡æœ¬åˆ†å‰² | æ•°æ®å¤„ç†å·¥å…· |
| **äº¤äº’èŠ‚ç‚¹** | AI å¯¹è¯çª—å£ã€ä»£ç ç¼–è¾‘å™¨ã€ç½‘é¡µæµè§ˆå™¨ã€æ•°æ®åˆ†æã€æ–‡æ¡£ç¼–è¾‘å™¨ã€å¤šåª’ä½“å½•åˆ¶ | äº¤äº’å¼æ“ä½œ |
| **ä»£ç èŠ‚ç‚¹** | JavaScript ä»£ç ã€Python ä»£ç  | è‡ªå®šä¹‰ä»£ç æ‰§è¡Œ |
| **æœåŠ¡èŠ‚ç‚¹** | MCP å®¢æˆ·ç«¯ã€REST APIã€Webhookã€MQTTã€Modbus | å¤–éƒ¨æœåŠ¡é›†æˆ |

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ¨ **å¯è§†åŒ–ç¼–è¾‘** - æ‹–æ‹½èŠ‚ç‚¹ã€è¿çº¿ç¼–æ’ã€å®æ—¶é¢„è§ˆ
- ğŸ’¾ **å·¥ä½œæµç®¡ç†** - ä¿å­˜ã€åŠ è½½ã€å¯¼å…¥ã€å¯¼å‡ºå·¥ä½œæµ
- ğŸ“¦ **æ¨¡æ¿ç³»ç»Ÿ** - å†…ç½®é¢„è®¾æ¨¡æ¿ï¼Œå¿«é€Ÿå¼€å§‹
- ğŸ”— **å˜é‡ç³»ç»Ÿ** - å…¨å±€å˜é‡ã€èŠ‚ç‚¹æ˜ å°„ã€æ¨¡æ¿è¯­æ³•
- âš¡ **å®æ—¶æ‰§è¡Œ** - æ‰§è¡ŒçŠ¶æ€ç›‘æ§ã€æ—¥å¿—è¾“å‡º
- ğŸ”§ **é«˜åº¦å¯é…ç½®** - API é…ç½®ã€æ¨¡å‹é€‰æ‹©ã€å‚æ•°è°ƒæ•´
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…æ¡Œé¢å’Œå¹³æ¿è®¾å¤‡
- ğŸ”’ **æœ¬åœ°è¿è¡Œ** - æ— éœ€æœåŠ¡å™¨ï¼Œæ•°æ®å®‰å…¨

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨

1. ä¸‹è½½æˆ–å…‹éš†æœ¬ä»“åº“
```bash
git clone https://github.com/your-username/ai-workflow-platform.git
cd ai-workflow-platform
```

2. ç”¨æµè§ˆå™¨ç›´æ¥æ‰“å¼€ `index.html`

3. ç‚¹å‡»å³ä¸Šè§’ **è®¾ç½®** æŒ‰é’®ï¼Œé…ç½® APIï¼š
   - API åœ°å€ï¼ˆå¦‚ `https://api.openai.com/v1`ï¼‰
   - API Key
   - é€‰æ‹©æ¨¡å‹

4. ä»å·¦ä¾§èŠ‚ç‚¹åº“æ‹–æ‹½èŠ‚ç‚¹åˆ°å·¥ä½œåŒº

5. ç‚¹å‡» **æ‰§è¡Œ** æŒ‰é’®è¿è¡Œå·¥ä½œæµ



### æ–¹å¼äºŒï¼šæœ¬åœ°æœåŠ¡å™¨

```bash
# ä½¿ç”¨ Python
python -m http.server 8080

# æˆ–ä½¿ç”¨ Node.js
npx serve .

# è®¿é—® http://localhost:8080
```

---

## âŒ¨ï¸ å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `F5` | æ‰§è¡Œå·¥ä½œæµ |
| `F9` | éªŒè¯å·¥ä½œæµ |
| `Ctrl + S` | ä¿å­˜å·¥ä½œæµ |
| `Ctrl + O` | åŠ è½½å·¥ä½œæµ |
| `Ctrl + E` | å¯¼å‡ºå·¥ä½œæµ |
| `Ctrl + ,` | æ‰“å¼€è®¾ç½® |
| `Delete` | åˆ é™¤é€‰ä¸­èŠ‚ç‚¹ |
| `Ctrl + C` | å¤åˆ¶èŠ‚ç‚¹ |
| `Ctrl + V` | ç²˜è´´èŠ‚ç‚¹ |
| `Ctrl + Shift + D` | è°ƒè¯•æ¨¡å¼ |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai-workflow-platform/
â”œâ”€â”€ index.html              # ä¸»å…¥å£é¡µé¢
â”œâ”€â”€ styles.css              # å…¨å±€æ ·å¼
â”œâ”€â”€ css/                    # æ¨¡å—æ ·å¼
â”‚   â”œâ”€â”€ document-editor.css
â”‚   â”œâ”€â”€ media-recorder.css
â”‚   â””â”€â”€ new-modules.css
â”œâ”€â”€ js/                     # JavaScript æ¨¡å—
â”‚   â”œâ”€â”€ config.js           # é…ç½®ä¸­å¿ƒ
â”‚   â”œâ”€â”€ utils.js            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ nodes.js            # èŠ‚ç‚¹æ¨¡å‹
â”‚   â”œâ”€â”€ workflow.js         # å·¥ä½œæµç®¡ç†
â”‚   â”œâ”€â”€ execution.js        # æ‰§è¡Œå¼•æ“
â”‚   â”œâ”€â”€ ui.js               # UI äº¤äº’
â”‚   â”œâ”€â”€ main.js             # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ agents/             # æ™ºèƒ½ä½“æ¨¡å—
â”‚   â”œâ”€â”€ api/                # API ç®¡ç†
â”‚   â”œâ”€â”€ communication/      # é€šä¿¡æ¨¡å—
â”‚   â”œâ”€â”€ interaction/        # äº¤äº’èŠ‚ç‚¹
â”‚   â”œâ”€â”€ media/              # åª’ä½“å¤„ç†
â”‚   â”œâ”€â”€ triggers/           # è§¦å‘å™¨å¼•æ“
â”‚   â””â”€â”€ ...
â”œâ”€â”€ app/                    # å­åº”ç”¨
â”‚   â”œâ”€â”€ dataextractor.html  # æ•°æ®åˆ†æç³»ç»Ÿ
â”‚   â””â”€â”€ graphanalyzer.html  # ç½‘ç»œå¯è§†åŒ–åˆ†æ
â”œâ”€â”€ dist/                   # æ··æ·†åçš„ç”Ÿäº§ç‰ˆæœ¬
â””â”€â”€ docs/                   # æ–‡æ¡£
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### API é…ç½®

ç‚¹å‡»è®¾ç½®æŒ‰é’®ï¼Œé…ç½®ä»¥ä¸‹å†…å®¹ï¼š

```json
{
  "apiBaseUrl": "https://api.openai.com/v1",
  "apiKey": "your-api-key",
  "model": "gpt-4",
  "temperature": 0.7,
  "maxTokens": 2000
}
```

æ”¯æŒçš„ API æœåŠ¡ï¼š
- OpenAI API
- Azure OpenAI
- å…¶ä»– OpenAI å…¼å®¹ APIï¼ˆå¦‚æœ¬åœ°éƒ¨ç½²çš„ LLMï¼‰

### å˜é‡ç³»ç»Ÿ

ä½¿ç”¨åŒå¤§æ‹¬å·è¯­æ³•å¼•ç”¨å˜é‡ï¼š

```
Hello, {{username}}!
ä¸Šä¸€æ­¥ç»“æœï¼š{{previousNode.output}}
```

---

## ğŸ® ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šAI æ–‡æœ¬ç”Ÿæˆ

1. æ‹–å…¥ **æ–‡æœ¬è¾“å…¥** èŠ‚ç‚¹ï¼Œè¾“å…¥ä¸»é¢˜
2. æ‹–å…¥ **æ–‡æœ¬ç”Ÿæˆ** èŠ‚ç‚¹
3. è¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹
4. ç‚¹å‡»æ‰§è¡Œ

### ç¤ºä¾‹ 2ï¼šæ¡ä»¶åˆ†æ”¯

1. æ‹–å…¥ **AI æ–‡æœ¬åˆ†æ** èŠ‚ç‚¹
2. æ‹–å…¥ **æ¡ä»¶åˆ¤æ–­** èŠ‚ç‚¹
3. æ ¹æ®åˆ†æç»“æœåˆ†æ”¯å¤„ç†

### ç¤ºä¾‹ 3ï¼šå®šæ—¶ä»»åŠ¡

1. æ‹–å…¥ **å®šæ—¶è§¦å‘** èŠ‚ç‚¹ï¼Œè®¾ç½® Cron è¡¨è¾¾å¼
2. è¿æ¥åç»­å¤„ç†èŠ‚ç‚¹
3. ç‚¹å‡»æ‰§è¡Œå¯åŠ¨ç›‘å¬

---

## ğŸ› ï¸ å¼€å‘

## æ¶æ„æ€»è§ˆ

- **æ¸²æŸ“ä¸ç”»å¸ƒ**: `index.html` + `styles.css` æä¾›å¸ƒå±€ï¼›`workflow.js` è´Ÿè´£èŠ‚ç‚¹ DOMã€è¿çº¿ SVGã€å±æ€§é¢æ¿ã€‚
- **èŠ‚ç‚¹æ¨¡å‹**: `nodes.js` å®šä¹‰ `WorkflowNode`ï¼Œç»Ÿä¸€ç®¡ç† ID/çŠ¶æ€/è¾“å…¥è¾“å‡º/é…ç½®/æ‰§è¡Œä¸ç»“æœå±•ç¤ºã€‚
- **æ‰§è¡Œå¼•æ“**: `execution.js` è‡ªèµ·å§‹èŠ‚ç‚¹æ‹“å±•æ‰§è¡Œï¼Œæ·±åº¦ä¼˜å…ˆã€æŒ‰ä¾èµ–æ¨è¿›ï¼Œå†…ç½®å¾ªç¯æ£€æµ‹/éªŒè¯/æ‰§è¡Œè®¡åˆ’ã€‚
- **å˜é‡ç³»ç»Ÿ**: `variable-manager.js` ç®¡ç†å…¨å±€å˜é‡ä¸èŠ‚ç‚¹è¾“å…¥/è¾“å‡ºæ˜ å°„ï¼Œæ”¯æŒæ¨¡æ¿ `{{var}}`ã€è§£æä¸å¼¹çª—å®¡æ ¸ã€‚
- **å¼¹çª—ç³»ç»Ÿ**: `popup-manager.js` ç®¡ç†è¾“å…¥/è¾“å‡º/å³æ—¶è¾“å…¥å¼¹çª—ã€å€’è®¡æ—¶ä¸å»é‡é˜²æŠ–ã€‚
- **é…ç½®ä¸­å¿ƒ**: `config.js` è´Ÿè´£ API é…ç½®ä¸é¢„è®¾å·¥ä½œæµæ¨¡æ¿ã€‚
- **äº¤äº’å±‚**: `ui.js` ç»‘å®šå·¥å…·æ /å¿«æ·é”®/æ‹–æ‹½/æ–‡ä»¶æ‹–æ‹½ä¸æ¨¡æ€ã€‚
- **åº”ç”¨å£³**: `main.js` è´Ÿè´£åˆå§‹åŒ–ã€å…¼å®¹æ€§æ£€æµ‹ã€è‡ªåŠ¨åŠ è½½ã€è°ƒè¯•æ¨¡å¼ä¸å…¨å±€å¯¹è±¡ã€‚

### å…¨å±€å¯¹è±¡ï¼ˆç»™ IDE/è„šæœ¬ä½¿ç”¨ï¼‰

- `window.workflowManager`ï¼ˆWorkflowManagerï¼‰
- `window.workflowExecutor`ï¼ˆWorkflowExecutorï¼‰
- `window.variableManager`ï¼ˆVariableManagerï¼‰
- `window.appConfig`ï¼ˆConfigï¼‰
- `window.uiManager`ï¼ˆUIManagerï¼‰
- `window.aiWorkflowApp`ï¼ˆAIWorkflowAppï¼‰
- `window.AI_WORKFLOW`ï¼ˆèšåˆè®¿é—®å™¨ï¼š`{ app, config, workflow, executor, ui, utils }`ï¼‰

## è¿è¡Œæœºç†ï¼ˆä»æ‹–æ‹½åˆ°æ‰§è¡Œï¼‰

1) ç”¨æˆ·æ‹–æ‹½èŠ‚ç‚¹ â†’ `WorkflowManager.createNode(type)` åˆ›å»º `WorkflowNode`ï¼Œè‡ªåŠ¨æ¸²æŸ“ DOMã€è¿æ¥ç‚¹ã€é»˜è®¤é…ç½®ä¸çŠ¶æ€ã€‚
2) è¿çº¿ â†’ `WorkflowManager.createConnection(fromNodeId, outputName, toNodeId, inputName)` å»ºç«‹è¿æ¥ã€ç»˜åˆ¶è´å¡å°”æ›²çº¿ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°â€œå˜é‡è¾“å…¥æ˜ å°„â€ã€‚
3) é…ç½® â†’ å±æ€§é¢æ¿ç”± `WorkflowManager.updatePropertyPanel()` ç”Ÿæˆï¼Œæ ¹æ®èŠ‚ç‚¹ç±»å‹æ¸²æŸ“å¯¹åº”é…ç½®è¡¨å•ä¸â€œå˜é‡æ˜ å°„â€åŒºåŸŸã€‚
4) æ‰§è¡Œ â†’ `WorkflowExecutor.executeWorkflow()` è‡ªæ— å…¥è¾¹èŠ‚ç‚¹å¼€å§‹é€’å½’æ‰§è¡Œï¼š
   - é€šè¿‡ `VariableManager.resolveNodeInputs(nodeId, node)` è§£æè¾“å…¥ï¼ˆå˜é‡æ˜ å°„ > è¿æ¥å€¼ > é»˜è®¤å€¼ï¼‰ï¼ŒæœŸé—´æŒ‰å˜é‡å¼¹çª—é…ç½®è§¦å‘è¾“å…¥å¼¹çª—ã€‚
   - `WorkflowNode.execute()` è°ƒåº¦åˆ°ä¸åŒ `process*` æ–¹æ³•ï¼›è¾“å‡ºç”± `VariableManager.saveNodeOutputs` ä¿å­˜è‡³å…¨å±€å˜é‡ï¼ˆå¯è§¦å‘è¾“å‡ºå®¡æ ¸å¼¹çª—ï¼‰ã€‚
   - æ‰§è¡Œæ—¥å¿—ï¼ˆå³ä¸‹è§’â€œæ‰§è¡ŒçŠ¶æ€â€ï¼‰ç”± `WorkflowExecutor.addExecutionLog` æ¨é€ã€‚

## æ¨¡å—ä¸ä¸»è¦æ¥å£

### 1) é…ç½®ä¸­å¿ƒï¼š`js/config.js`

- `window.appConfig.getConfig()` / `updateConfig(config)` / `saveConfig(config)` / `reset()`
- `validateConfig(config?)`: å°è¯• POST æµ‹è¯•è¯·æ±‚æ ¡éªŒ API å¯ç”¨æ€§
- é¢„è®¾å·¥ä½œæµï¼š`getPresetWorkflows()` / `getPresetWorkflow(id)`

æ³¨æ„ï¼šæºç ä¸­çš„é»˜è®¤é…ç½®åŒ…å«ç¤ºä¾‹ API åœ°å€ä¸æ¨¡å‹ã€‚ä¸¥ç¦åœ¨æ–‡æ¡£æˆ–ä»£ç ä¸­ä¿ç•™çœŸå® Keyï¼ˆè¯¦è§â€œå®‰å…¨ä¸ä¸åˆç†é¡¹â€ï¼‰ã€‚

### 2) èŠ‚ç‚¹æ¨¡å‹ï¼š`js/nodes.js`ï¼ˆWorkflowNodeï¼‰

- æ ‡è¯†ï¼š`id = WS{workspaceId}_{Type}{åºå·}`ï¼ˆå¯¼å…¥æ—¶ä¿ç•™åŸ `id`ï¼‰
- ç»“æ„ï¼š`type` `x` `y` `config` `inputs` `outputs` `connections(inputs: Map, outputs: Map)`
- æ¸²æŸ“ï¼š`createNodeElement()` ç”Ÿæˆ DOMã€è¿æ¥ç‚¹ï¼›`updateContent()` æ›´æ–°å†…å®¹ï¼›`showExecutionResult()` å±•ç¤ºæ‰§è¡Œ I/O
- æ‰§è¡Œï¼š`execute()` â†’ `processNode()` â†’ å…·ä½“ `processAIChat/processAITextGeneration/...`
- è¾“å…¥è§£æï¼š`getInputValue(name)`ï¼ˆå…ˆå·²è§£æè¾“å…¥â†’å†è¿çº¿â†’æœ€åé»˜è®¤ï¼‰
- æ¨¡æ¿ï¼š`processTemplateString('Hello {{username}}')` ä½¿ç”¨å…¨å±€å˜é‡ä¸èŠ‚ç‚¹ä¸Šä¸‹æ–‡æ›¿æ¢

ä¸»è¦èŠ‚ç‚¹ç±»å‹ä¸ I/Oï¼š

- AI ç±»ï¼š`ai-chat(prompt â†’ response)` / `ai-text-generation(topic â†’ text)` / `ai-text-analysis(text â†’ analysis)`
- æ–‡ä»¶ï¼š`file-input(â†’ content, filename)` / `file-output(content â†’)` / `text-input(input? â†’ text)` / `optional-input(â†’ text)`
- æ§åˆ¶ï¼š`condition(input â†’ true/false)` / `loop(input â†’ output)` / `delay(input â†’ output)`
- å·¥å…·ï¼š`http-request(url,data â†’ response)` / `json-parser(json â†’ data)` / `text-transform(text â†’ transformed)` / `text-splitter(text â†’ chunks)`

### 3) å·¥ä½œæµç®¡ç†ï¼š`js/workflow.js`ï¼ˆWorkflowManagerï¼‰

- ç”»å¸ƒä¸äº¤äº’ï¼šé€‰æ‹©/å¤åˆ¶/ç²˜è´´/åˆ é™¤èŠ‚ç‚¹ï¼Œåˆ›å»º/åˆ é™¤/æ›´æ–°è¿çº¿
- å±æ€§é¢æ¿ï¼š`updatePropertyPanel()` åŠ¨æ€æ¸²æŸ“è¡¨å•ä¸â€œå˜é‡æ˜ å°„â€åŒº
- è‡ªåŠ¨å˜é‡æ˜ å°„ï¼šä¸ºèŠ‚ç‚¹è¾“å‡ºè‡ªåŠ¨åˆ›å»ºåŒåå…¨å±€å˜é‡ï¼›åœ¨è¿çº¿æ—¶ä¸ºç›®æ ‡è¾“å…¥è‡ªåŠ¨æ˜ å°„ä¸Šæ¸¸å˜é‡
- å¯¼å…¥å¯¼å‡ºï¼š
  - `exportWorkflow()` â†’ ç”Ÿæˆ `{ nodes, connections, metadata }`
  - `importWorkflow(file)` â†’ ä» JSON æ¢å¤
  - `save()` / `load()` â†’ æœ¬åœ°å­˜å‚¨å¾€è¿”
  - `loadPresetWorkflow(presetId)` â†’ æ ¹æ®æ¨¡æ¿ç´¢å¼•é‡å»ºèŠ‚ç‚¹ä¸è¿çº¿
- å…¶å®ƒï¼š`createNode` `createConnection` `drawConnection` `updateConnections` `clear` ç­‰

### 4) æ‰§è¡Œå¼•æ“ï¼š`js/execution.js`ï¼ˆWorkflowExecutorï¼‰

- `executeWorkflow()`ï¼šä¸²å¹¶è¡Œç»“åˆçš„é€’å½’æ‰§è¡Œï¼›èµ·ç‚¹ä¸ºâ€œæ— è¾“å…¥è¿çº¿â€çš„èŠ‚ç‚¹
- `stopExecution()`ï¼šç»ˆæ­¢å¹¶é‡ç½®èŠ‚ç‚¹çŠ¶æ€
- éªŒè¯ä¸è®¡åˆ’ï¼š`validateWorkflow()` / `detectCycles()` / `getExecutionOrder()` / `simulateExecution()` / æ‰§è¡Œè®¡åˆ’æ‰“å°
- å†å²ï¼šå†…å­˜ä¸­ä¿ç•™æœ€å¤š 50 æ¡ï¼›æœ€è¿‘ 10 æ¡å†™å…¥æœ¬åœ°å­˜å‚¨
- UIï¼šå³ä¸‹è§’â€œæ‰§è¡ŒçŠ¶æ€â€é¢æ¿æ—¥å¿—ï¼ˆinfo/success/error/warning/runningï¼‰

### 5) å˜é‡ç³»ç»Ÿï¼š`js/variable-manager.js`ï¼ˆVariableManagerï¼‰

- å…¨å±€å˜é‡ï¼š`createGlobalVariable(name, type, value, description, popupConfig)` / `updateGlobalVariable` / `deleteGlobalVariable` / `getAllGlobalVariables`
- èŠ‚ç‚¹æ˜ å°„ï¼š`configureNodeVariables(nodeId, inputMappings, outputMappings)` / `setNodeInputVariable` / `setNodeOutputVariable`
- è¾“å…¥è§£æï¼š`resolveNodeInputs(nodeId, node)`ï¼ˆä¼˜å…ˆå˜é‡æ˜ å°„ï¼Œå…¶æ¬¡è¿çº¿ï¼Œæœ€åé»˜è®¤ï¼›å¯è§¦å‘â€œè¾“å…¥å¼¹çª—â€ï¼‰
- è¾“å‡ºä¿å­˜ï¼š`saveNodeOutputs(nodeId, outputs)`ï¼ˆå¯è§¦å‘â€œè¾“å‡ºå®¡æ ¸å¼¹çª—â€ï¼›æ”¯æŒè§£æé…ç½®ï¼Œä¾‹å¦‚åˆ†éš”ç¬¦/å­—æ®µ/æ­£åˆ™/åºåˆ—ï¼‰
- æ¨¡æ¿ï¼š`resolveTemplate('Hi {{user.name}}')`
- å¯¼å…¥å¯¼å‡ºä¸æŒä¹…åŒ–ï¼š`exportVariables()` / `importVariables(data)` / æœ¬åœ°å­˜å‚¨è‡ªåŠ¨ä¿å­˜ä¸æ¢å¤

å˜é‡ç»“æ„ï¼š

```json
{
  "name": "å˜é‡å",
  "type": "string|number|boolean|object|array",
  "value": "ä»»æ„",
  "description": "è¯´æ˜",
  "popupConfig": { "inputPopup": false, "outputPopup": false, "timeout": 20000 }
}
```

### 6) å¼¹çª—ç³»ç»Ÿï¼š`js/popup-manager.js`ï¼ˆPopupManagerï¼‰

- è¾“å…¥å¼¹çª—ï¼š`showVariableInputPopup(nodeId, variableName, currentValue, timeout)`
- è¾“å‡ºå¼¹çª—ï¼š`showVariableOutputPopup(nodeId, variableName, currentValue, timeout)`
- å³æ—¶è¾“å…¥ï¼š`showImmediateInputPopup(nodeId, inputName, defaultValue, isOptional, timeout)`
- å…¬å…±ï¼šå€’è®¡æ—¶ã€æŠ˜å /å…³é—­ã€å¼ºåˆ¶æ¸…ç†ä¸é˜²é‡å¤

### 7) åº”ç”¨å£³ï¼š`js/main.js`ï¼ˆAIWorkflowAppï¼‰

- ç”Ÿå‘½å‘¨æœŸï¼š`initialize()` â†’ å…¼å®¹æ€§æ£€æµ‹ â†’ è¯»å–é…ç½® â†’ åˆå§‹åŒ–å„ç»„ä»¶ â†’ ç»‘å®šäº‹ä»¶ â†’ åˆå§‹åŒ– UI â†’ è‡ªåŠ¨åŠ è½½/æ¢å¤
- è¾…åŠ©ï¼šæ¬¢è¿/å¼•å¯¼ã€è°ƒè¯•é¢æ¿ï¼ˆå†…å­˜/èŠ‚ç‚¹/è¿æ¥/æ‰§è¡Œå†å²ï¼‰ã€å¯¼å…¥å¯¼å‡ºâ€œåº”ç”¨æ•°æ®â€
- å…¨å±€ï¼š`window.AI_WORKFLOW` ç»Ÿä¸€èšåˆè®¿é—®
```

---
---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

---



Made by AI Workflow Team

